architecture:
  version: 0.3

  subtree:
    - name: system
      attributes:
        technology: 45nm
      local:
        - name: BackingStorage
          class: SRAM_metadata
          attributes:
            data_storage_depth: 4096
            data_storage_width: 32
            datawidth: 8
            block_size: 4
            metadata_storage_depth: 1024
            metadata_storage_width: 4
            metadata_datawidth: 4

      subtree:
        - name: PE[0..4]
          local:
            - name: Buffer
              class: storage
              subclass: regfile_metadata
              attributes:
                data_storage_depth: 512
                data_storage_width: 8
                datawidth: 8
                block_size: 1
                metadata_storage_depth: 512
                metadata_storage_width: 4
                metadata_datawidth: 4
                read_bandwidth: 5
                write_bandwidth: 5
                meshX: 1        # number of components in the X dimension (PE rows)
                meshY: 5       # number of components in the Y dimension (PE cols)

            - name: MAC
              class: compute
              subclass: intmac
              attributes:
                datawidth: 8
                meshX: 1        # number of components in the X dimension (PE rows)
                meshY: 5       # number of components in the Y dimension (PE cols)